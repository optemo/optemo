>> prods = CameraCluster.first.nodes(Session.new, nil).map{|n| n.product_id}
=> [324, 520, 4866, 4350, 1186, 92, 1322, 956, 1058, 852, 1754, 2792, 1026, 540, 446, 2070, 1906, 1336, 190, 1184, 918, 832, 678, 864, 3908, 536, 1728, 1888, 284, 160, 2142, 3040, 2912, 468, 820, 518, 482, 1130, 2290, 2796, 2356, 154, 1302, 2434, 1900, 3478, 218, 66, 1464, 78, 1630, 314, 772, 2704, 5212, 554, 1106, 1662, 1084, 3438, 206, 954, 510, 5214, 724, 5072, 1024, 1712, 882, 1036, 392, 370, 2846, 2836, 964, 4054, 1920, 934, 202, 114, 196, 880, 3106, 3274, 610, 2404, 1224, 2908, 2132, 2208, 998, 1306, 3200, 2188, 578, 802, 286, 186, 1330, 1376, 3344, 62, 50, 2470, 16, 278, 1082, 556, 3724, 5206, 2350, 840, 694, 2596, 1402, 1476, 2536, 1300, 410, 506, 3984, 508, 548, 258, 4768, 318, 2680, 528, 458, 4530, 1374, 3306, 1722, 502, 1882, 430, 494, 448, 5234, 2408, 394, 1054, 4, 116, 76, 328, 940, 1718, 1234, 1048, 850, 6070, 3198, 384, 1038, 3236, 878, 3864, 810, 144, 794, 1606, 3918, 2986, 750, 1436, 2530, 1976, 1790, 2260, 1650, 474, 146, 618, 1206, 968, 496, 234, 728, 1246, 1444, 614, 1580, 184, 1090, 2036, 1454, 1960, 2020, 422, 366, 174, 60, 1148, 1416, 354, 282, 336, 152, 400, 226, 168, 2490, 1874, 1566, 1980, 726, 4160, 46, 696, 5320, 3172, 426, 640, 1876, 1384, 762, 3564, 1460, 3794, 2450, 3300, 5524, 364, 1570, 122]
>> Camera.find(prods)
ActiveRecord::RecordNotFound: Couldn't find all Cameras with IDs (324,520,4866,4350,1186,92,1322,956,1058,852,1754,2792,1026,540,446,2070,1906,1336,190,1184,918,832,678,864,3908,536,1728,1888,284,160,2142,3040,2912,468,820,518,482,1130,2290,2796,2356,154,1302,2434,1900,3478,218,66,1464,78,1630,314,772,2704,5212,554,1106,1662,1084,3438,206,954,510,5214,724,5072,1024,1712,882,1036,392,370,2846,2836,964,4054,1920,934,202,114,196,880,3106,3274,610,2404,1224,2908,2132,2208,998,1306,3200,2188,578,802,286,186,1330,1376,3344,62,50,2470,16,278,1082,556,3724,5206,2350,840,694,2596,1402,1476,2536,1300,410,506,3984,508,548,258,4768,318,2680,528,458,4530,1374,3306,1722,502,1882,430,494,448,5234,2408,394,1054,4,116,76,328,940,1718,1234,1048,850,6070,3198,384,1038,3236,878,3864,810,144,794,1606,3918,2986,750,1436,2530,1976,1790,2260,1650,474,146,618,1206,968,496,234,728,1246,1444,614,1580,184,1090,2036,1454,1960,2020,422,366,174,60,1148,1416,354,282,336,152,400,226,168,2490,1874,1566,1980,726,4160,46,696,5320,3172,426,640,1876,1384,762,3564,1460,3794,2450,3300,5524,364,1570,122) (found 130 results, but was looking for 226)
        from /usr/local/lib/ruby/gems/1.9.1/gems/activerecord-2.3.5/lib/active_record/base.rb:1613:in `find_some'
        from /usr/local/lib/ruby/gems/1.9.1/gems/activerecord-2.3.5/lib/active_record/base.rb:1572:in `find_from_ids'
        from /usr/local/lib/ruby/gems/1.9.1/gems/activerecord-2.3.5/lib/active_record/base.rb:616:in `find'
        from (irb):46
        from /usr/local/bin/irb:12:in `<main>'
>> 
>> find_missing_cameras(prods)
=> [4866, 1186, 92, 2792, 540, 446, 190, 536, 284, 3040, 482, 2290, 2796, 2434, 218, 66, 78, 314, 5212, 554, 3438, 206, 510, 5214, 724, 2846, 2836, 1920, 934, 202, 196, 3274, 610, 2404, 2208, 998, 3200, 578, 186, 62, 278, 556, 5206, 2350, 840, 1476, 1300, 410, 506, 3984, 508, 548, 318, 2680, 528, 458, 3306, 448, 116, 76, 1718, 1234, 6070, 1038, 3236, 794, 1606, 2986, 2530, 1976, 474, 146, 618, 234, 728, 614, 1580, 184, 422, 366, 174, 354, 282, 400, 226, 168, 1874, 726, 696, 5320, 426, 640, 1384, 762, 5524, 122]
