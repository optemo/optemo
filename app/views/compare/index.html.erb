<% self.title = "Product Comparison" %>
<br>&lt;&lt;&nbsp;<%= link_to 'Go back to navigation', :back, {:style => 'position:relative'}%>
<!-- <%= link_to 'Go back to navigation', :back, {:style => 'position:absolute; top:0;left:0;'}%> -->
<%# Descriptions %>
<!-- <div class="cell"> -->

<!-- To display the names of interesting features that are known for at least one saved product-->
<center><h1>Product Comparison</h1></center>			
<table id="comparisonTable" height="100%" width="100%" border="1" cellspacing="0" cellpadding="5">
	<tr id= "firstRow" class="nodrag nodrop">
		<td> 
			<div class="first">				
				<br><br>
				<h2>Product Features</h2>
			</div>
		</td>
		<% for i in 0..@products.count-1%>
			<%= render :partial => 'thumbnails', :object => @products[i], :locals => {:oldBack=>:back} %>	
																											<!-- ToDo: OldBack needs to be used to retain history after Deleting column-->		
		<% end %>
	</tr>                                                                 
<% @preferredDisplayFeatures.each do |column| %>
        <% if @interestingFeatureDisplayed[column[0]] == true %>
			<!-- Assign IDs to rows. These IDs are returned by the serialize() function in javascript and is used to record user's preferences-->
			<tr id = '<%= column[0] %>' > 
				<!-- To display the name of the feature -->
				<%= render :partial => 'features', :locals => {:column=>column[0]} %>
				<!-- To display the value of each interesting feature -->
				<%= render :partial => 'product', :collection => @products, :locals => {:column=>column[0]} %>
			</tr>
		<% end %>
	<% end %>
</table>

<%# This moves the border to the bottom %>
<div class="clear"></div>